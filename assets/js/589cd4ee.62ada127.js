"use strict";(self.webpackChunknative_chain_docs=self.webpackChunknative_chain_docs||[]).push([[543],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),f=r,m=p["".concat(l,".").concat(f)]||p[f]||d[f]||i;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6394:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return p}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={sidebar_position:4},l="Functionalities and Flow Design",c={unversionedId:"app-design/flow-design",id:"app-design/flow-design",isDocsHomePage:!1,title:"Functionalities and Flow Design",description:"As mentioned before, Chain has multiple microservices that has been connected to a Graphql service. But for the native app, the connection will be made to the microservices by itself and the responses will be managed at swift.",source:"@site/docs/app-design/flow-design.md",sourceDirName:"app-design",slug:"/app-design/flow-design",permalink:"/docusaurus/docs/app-design/flow-design",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/app-design/flow-design.md",version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Data Type Design",permalink:"/docusaurus/docs/app-design/data-type-design"},next:{title:"Logger",permalink:"/docusaurus/docs/app-design/logger"}},u=[{value:"User flows",id:"user-flows",children:[{value:"Data validation",id:"data-validation",children:[]},{value:"Data flow to microservices",id:"data-flow-to-microservices",children:[]}]},{value:"Background process",id:"background-process",children:[]}],d={toc:u};function p(e){var t=e.components,s=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"functionalities-and-flow-design"},"Functionalities and Flow Design"),(0,i.kt)("p",null,"As mentioned before, Chain has multiple microservices that has been connected to a Graphql service. But for the native app, the connection will be made to the microservices by itself and the responses will be managed at swift."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Swift Architecture Diagram",src:n(1356).Z,title:"Swift Architecture Diagram"})),(0,i.kt)("p",null,"Now the user interfaces will be distributed as following next:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"User Interfaces Diagram",src:n(1356).Z,title:"User Interfaces Diagram"})),(0,i.kt)("h2",{id:"user-flows"},"User flows"),(0,i.kt)("h3",{id:"data-validation"},"Data validation"),(0,i.kt)("p",null,"Every insert will be protected by a data validation layer that will be included by:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Schema validation"),(0,i.kt)("li",{parentName:"ul"},"Data type and format validation"),(0,i.kt)("li",{parentName:"ul"},"For necessary cases (sales) auto-complete process will be executed"),(0,i.kt)("li",{parentName:"ul"},"Money validation"),(0,i.kt)("li",{parentName:"ul"},"Data process (format to JSON)"),(0,i.kt)("li",{parentName:"ul"},"Data storage (by using microservices)")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Data Validation Diagram",src:n(6657).Z,title:"Data Validation Diagram"}),"\n",(0,i.kt)("img",{alt:"Data Levels Diagram",src:n(1041).Z,title:"Data Levels Diagram"})),(0,i.kt)("h3",{id:"data-flow-to-microservices"},"Data flow to microservices"),(0,i.kt)("p",null,"In order to prevent services errors, all the service connections will be protected by:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The network layer, which will provide services functions to make HTTP requests and manage the HTTP responses"),(0,i.kt)("li",{parentName:"ul"},"Services middlewares, which will provide the functions to make requests to Chain microservices according to each one"),(0,i.kt)("li",{parentName:"ul"},"A Logger Layer, which will provide feedback on test mode for external request"),(0,i.kt)("li",{parentName:"ul"},"Custom alerts according to HTTP responses to give feedback to the user when something is not working as expected or when action is not according to user rules. These will be special cases like:"),(0,i.kt)("li",{parentName:"ul"},"Client tax id is not valid for SAT system"),(0,i.kt)("li",{parentName:"ul"},"A client has been registered with a specific name or tax id yet"),(0,i.kt)("li",{parentName:"ul"},"The process requested has been finished successfully")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"iOS Connection Diagram",src:n(9790).Z,title:"iOS Connection Diagram"})),(0,i.kt)("h2",{id:"background-process"},"Background process"),(0,i.kt)("p",null,"We have many services and creating sales, payments and other processes depend on many services to be completed and have all information updated. Not all the processes related are crucial, because of that, it would be a good idea to have a singleton queue to manage the background processes with NSObject."),(0,i.kt)("p",null,"In that way, we can request interface refresh or update when a series of processes associated together is finished. These processes will be executed as async ones in order to not block the thread(s) and being executed without stop user experience."))}p.isMDXComponent=!0},6657:function(e,t,n){t.Z=n.p+"assets/images/data-validation-design-9489033995ce97b05def0c30a167c735.jpeg"},9790:function(e,t,n){t.Z=n.p+"assets/images/ios-connections-a7129d8b8b5778ca638866964282294d.jpeg"},1356:function(e,t,n){t.Z=n.p+"assets/images/user-interfaces-bac39bf352f3dab9b316eaf6e999f06f.jpeg"},1041:function(e,t,n){t.Z=n.p+"assets/images/validator-levels-f828e12a7e94599b1fd9e791ab3339f2.jpeg"}}]);